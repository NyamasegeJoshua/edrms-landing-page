<!DOCTYPE html>
<html lang="en">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="csrf-token" content="WCdfJy4VcTcFPFczChV7CBIAI0UIEgd9oo7fJy7VRknr_qMfMIjh_gO0" />
  <title data-suffix="">Govt EDRMS</title>
  <link rel="canonical" href="https://crs.ecitizen.go.ke" />
  <link rel="icon" type="image/x-icon" href="images/favicon-e1bdc604c7b0f9bc8d82ac3226892df2.ico" />
  <link phx-track-static rel="stylesheet" href="assets/main-19eca7b2e7656617bc169bee5136883e.css" />
  <!-- tailwind css -->
  <link rel="stylesheet" href="https://unpkg.com/tailwindcss@^1.0/dist/tailwind.min.css" />
  <!-- google font -->
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="/stye.css">
  <link phx-track-static rel="stylesheet" href="assets/app-ced38148c650510e515759b66aeb3e30.css" />
  <style>
    #myScript {
      visibility: hidden;
    }
  </style>
  <script defer phx-track-static type="text/javascript" id="myScript"
    src="/assets/app-afd6b69306582c548fae7ef3c36bdacd.js?vsn=d"></script>
  <script id="myScript" src="/highcharts.js"></script>
</head>

<body class="h-full">
  <!DOCTYPE html>
  <html lang="en">

  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="icon" href="images/favicon-e1bdc604c7b0f9bc8d82ac3226892df2.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="A really cool weather widget" />
    <title>Government EDRMS</title>
    <link phx-track-static rel="stylesheet" href="assets/main-19eca7b2e7656617bc169bee5136883e.css" />
    <link phx-track-static rel="stylesheet" href="assets/app-ced38148c650510e515759b66aeb3e30.css" />
    <script src="https://cdn.tailwindcss.com"></script>
  </head>

  <body>
    <h1 class="text-lg font-bold text-gray-700 leading-tight text-center mt-12 mb-5">
      Create New Ministry
    </h1>
    <form id="signUpForm" class="p-12 shadow-md rounded-2xl bg-white mx-auto border-solid border-2 border-gray-100 mb-8"
      action="#!">
      <!-- start step indicators -->
      <div class="form-header flex gap-3 mb-4 text-xs text-center">
        <span class="stepIndicator flex-1 pb-8 relative">Admin Authentication</span>
        <span class="stepIndicator flex-1 pb-8 relative">MCDA General Info</span>
        <span class="stepIndicator flex-1 pb-8 relative">System Config Details</span>
        <span class="stepIndicator flex-1 pb-8 relative">Database Creation</span>
      </div>
      <!-- end step indicators -->

      <!-- step one -->
      <div class="flex flex-col mt-0 mb-0 items-center justify-center">
        <img src="images/gok.png" alt="User Icon" class="w-12 h-12 mr-2">
      </div>
      <div class="step">
        <p class="text-md text-gray-700 leading-tight text-center mt-8 mb-5">
          Login into your account
        </p>
        <div class="mb-6">
          <input type="email" placeholder="Email Address" name="email"
            class="w-full px-4 py-3 rounded-full text-gray-700 font-medium border-solid border-2 border-gray-200"
            oninput="this.className = 'w-full px-4 py-3 rounded-full text-gray-700 font-medium border-solid border-2 border-gray-200'" />
        </div>
        <div class="mb-6">
          <input type="password" placeholder="Password" name="password"
            class="w-full px-4 py-3 rounded-full text-gray-700 font-medium border-solid border-2 border-gray-200"
            oninput="this.className = 'w-full px-4 py-3 rounded-full text-gray-700 font-medium border-solid border-2 border-gray-200'" />
        </div>
        <div class="mb-6">
          <input type="password" placeholder="Confirm Password" name="password"
            class="w-full px-4 py-3 rounded-full text-gray-700 font-medium border-solid border-2 border-gray-200"
            oninput="this.className = 'w-full px-4 py-3 rounded-full text-gray-700 font-medium border-solid border-2 border-gray-200'" />
        </div>
      </div>

      <!-- step two -->
      <div class="step">
        <p class="text-full text-gray-700 leading-tight text-center mt-8 mb-5">
          Ministry/Agency General Info
        </p>
        <div class="mb-4">
          <input type="text" placeholder="Name (Must be unique)" name="ministryName"
            class="w-full px-3 py-2 text-sm rounded-full text-gray-700 font-medium border border-gray-300"
            oninput="this.className = 'w-full px-3 py-2 rounded-full text-gray-700 font-medium border border-gray-300'"
            required />
        </div>
        <div class="mb-4">
          <input type="text" placeholder="Onboarding ID (Must be unique)" name="onboardingID"
            class="w-full text-sm px-3 py-2 rounded-full text-gray-700 font-medium border border-gray-300"
            oninput="this.className = 'w-full px-3 py-2 rounded-full text-gray-700 font-medium border border-gray-300'"
            required />
        </div>
        <div class="mb-4">
          <label class="block text-gray-700 font-medium">Logo Upload</label>
          <input type="file" name="logo" accept="image/*" class="w-full text-sm py-2 border border-gray-300" />
        </div>
        <div class="mb-4">
          <textarea placeholder="Type and submit Ministry/Agency Description" name="description"
            class="w-full px-3 py-2 text-sm rounded-full text-gray-700 font-medium border border-gray-300"
            oninput="this.className = 'w-full px-3 py-2 rounded-full text-gray-700 font-medium border border-gray-300'"
            required></textarea>
        </div>
        <div class="mb-4">
          <label class="block text-gray-700 font-medium">Category</label>
          <select id="category"
            class="w-full px-3 text-sm py-2 rounded-full text-gray-700 font-medium border border-gray-300" required>
            <option value="" disabled selected>Select Category</option>
            <option value="ministry">Ministry</option>
            <option value="agency">Agency</option>
            <option value="state_department">State Department</option>
          </select>
        </div>
        <div class="mb-4" id="ministrySelection" style="display:none;">
          <label class="block text-gray-700 font-medium">Ministry Belonging</label>
          <input type="text" placeholder="Enter Ministry Name" name="ministryBelonging"
            class="w-full px-3 py-2 rounded-full text-gray-700 text-sm font-medium border border-gray-300" />
        </div>
        
      </div>

      <!-- step three -->
      <div class="step">
        <p class="text-full text-gray-700 leading-tight text-center mt-8 mb-5">
          System Configuration Details
        </p>
        <div class="mb-6">
          <input type="text" placeholder="HTTP Connector Port" name="httpConnectorPort"
            class="w-full px-4 py-3 rounded-full text-gray-700 font-medium border-solid border-2 border-gray-200"
            oninput="this.className = 'w-full px-4 py-3 rounded-full text-gray-700 font-medium border-solid border-2 border-gray-200'" />
        </div>
        <div class="mb-6">
          <input type="text" placeholder="HTTPS Connector Port" name="httpsConnectorPort"
            class="w-full px-4 py-3 rounded-full text-gray-700 font-medium border-solid border-2 border-gray-200"
            oninput="this.className = 'w-full px-4 py-3 rounded-full text-gray-700 font-medium border-solid border-2 border-gray-200'" />
        </div>
        <div class="mb-6">
          <input type="text" placeholder="AJB Connector Port" name="ajbConnectorPort"
            class="w-full px-4 py-3 rounded-full text-gray-700 font-medium border-solid border-2 border-gray-200"
            oninput="this.className = 'w-full px-4 py-3 rounded-full text-gray-700 font-medium border-solid border-2 border-gray-200'" />
        </div>
        <!-- Add more fields as needed for system configuration details -->
      </div>


      <!-- start previous / next buttons -->
      <div class="form-footer flex gap-3">
        <button type="button" id="prevBtn"
          class="flex-1 focus:outline-none border border-gray-300 py-2 px-5 rounded-lg shadow-sm text-center text-gray-700 bg-white hover:bg-gray-100 text-lg"
          onclick="nextPrev(-1)">
          Previous
        </button>
        <button type="button" id="nextBtn"
          class="flex-1 border border-transparent focus:outline-none p-3 rounded-full text-center text-white bg-primary-600 hover:bg-indigo-700 text-lg"
          onclick="nextPrev(1)">
          Next
        </button>
      </div>
      <!-- end previous / next buttons -->
    </form>

    <script>
      var currentTab = 0; // Current tab is set to be the first tab (0)
      showTab(currentTab); // Display the current tab
    
      function showTab(n) {
        var x = document.getElementsByClassName("step");
        x[n].style.display = "block";
    
        if (n == 0) {
          document.getElementById("prevBtn").style.display = "none";
        } else {
          document.getElementById("prevBtn").style.display = "inline";
        }
    
        if (n == (x.length - 1)) {
          document.getElementById("nextBtn").innerHTML = "Submit";
        } else {
          document.getElementById("nextBtn").innerHTML = "Next";
        }
    
        fixStepIndicator(n);
      }
    
      function nextPrev(n) {
        var x = document.getElementsByClassName("step");
    
        if (n == 1 && !validateForm()) return false;
    
        x[currentTab].style.display = "none";
        currentTab = currentTab + n;
    
        if (currentTab >= x.length) {
          document.getElementById("signUpForm").submit();
          return false;
        }
    
        showTab(currentTab);
        showMinistryBelongingField(); // Call the function to handle visibility
      }
    
      function validateForm() {
        var x, y, i, valid = true;
        x = document.getElementsByClassName("step");
        y = x[currentTab].getElementsByTagName("input");
        var category = document.getElementById("category").value; // Define category variable
    
        // A loop that checks every input field in the current tab:
        for (i = 0; i < y.length; i++) {
          // If a field is empty and not Ministry Belonging when the category is "ministry"...
          if (y[i].value == "" && !(category === "ministry" && y[i].name === "ministryBelonging")) {
            // add an "invalid" class to the field:
            y[i].className += " invalid";
            // and set the current valid status to false
            valid = false;
          }
        }
        // If the valid status is true, mark the step as finished and valid:
        if (valid) {
          document.getElementsByClassName("stepIndicator")[currentTab].className += " finish";
        }
        return valid; // return the valid status
      }
    
      function fixStepIndicator(n) {
        var i, x = document.getElementsByClassName("stepIndicator");
    
        for (i = 0; i < x.length; i++) {
          x[i].className = x[i].className.replace(" active", "");
        }
    
        x[n].className += " active";
      }
    
      function showMinistryBelongingField() {
        var categorySelect = document.getElementById("category");
        var ministrySelection = document.getElementById("ministrySelection");
    
        if (categorySelect.value === "ministry") {
          ministrySelection.style.display = "none";
        } else {
          ministrySelection.style.display = "block";
        }
      }
    
      // Add event listener for category change
      document.getElementById("category").addEventListener("change", showMinistryBelongingField);
    
      // Call the function on page load to handle initial visibility
      showMinistryBelongingField();
    </script>
    
    
    
  </body>

  </html>
</body>

</html>